
# IOT 펫 자동 급식기 기능 명세서

 1.  introduction
- 목적 : IOT 펫 자동급식기를 활용한 원격 펫 급식 및 feedback
- 문서 규칙 : markdown
- 독자 대상 : 실 사용자 및 개발자
- 프로젝트 범위 : 전체 서비스 중, 기기와 기기내부 서버
- 참조 : none
 2.  전체 설명
- 제품 조망 : 기존 판매중인 펫 자동급식기의 추가 기능 구현
- 제품 기능
	 
|기능|상세|
|--|--|
|펫 자동 급식  | 지정된 시간에 모터의 동작으로 지정량 만큼을 지급  |
|급식 현황 정보 | 잔여량, 지급량을 센서로 측정, 데이터화|
|동작 확인 LED| 모터 동작 시 작동여부 확인 LED|
|상태 스피커| 배식 종료 및 배식 시간 초기화 시 알림|
|통신 기능 | 웹, 모바일로 상태정보 및 시간설정 정보를 통신|
- 사용자 계층 및 특징
	-  반려동물과 함께 할 수 없는 외출이 잦은 반려동물 주인
	- 일반적으로 직장인, 학생 등으로 웹, 모바일 기기의 활용에 익숙함
- 운영 환경
	- 기기 : raspberry pi 4(raspbian OS)
	- 서버 : express
	- 데이터베이스 : MySQL
- 설계 및 구현 제약사항
	- 운영환경과 동일한 사양이 필요함
	- 언어의 경우 HW는 C언어, 서버는 Nodejs를 활용함
	- 데이터베이스는 MYSQL 8버전을 기본으로 활용, C mysql.h와 Nodejs의 mybatis를 활용 연동
	- 데이터 교환방식 : JSON
	- 디바이스 크기 : 약 200*400*400(mm) 수준의 공간 필요
	- prototype
- 사용자 문서
	- 웹 서비스 내 사용법에 대한 매뉴얼 제공
3. 유스케이스
- 반려동물 먹이를 깜박하고 외출한 경우
	- 흐름 
		- 웹/모바일 서비스에 접속하여 현재 먹이 잔여량을 확인
		- 먹이의 잔량이 충분한 경우 사료의 정보를 검색, 서비스 내 적절한 열량을 계산해주는 기능을 활용
		-  가까운 시간대에 계산된 양으로 먹이 지급을 설정
		- 지급 후 웹/모바일 서비스를 통해 정상적으로 지급됬는지 확인
		- 먹이 잔량이 부족할 경우 사료통에 먹이를 채워주어야 함
4. 기구 상세 spec
	- Board/CPU : Rpi 4B/ Cortex A72 1.5GHz
	- 크기/ 무게 : 150*350*350(mm)/500g(사료 미포함)
	- 대상 반려동물 : 개, 고양이(중, 소형)
	- 전원 : AC 220V/ DC 9V(건전지)
	- 내부 사료통 용량 : 3400cc
	- 외부 사료통 용량 : 800cc
	- 사료통 분리 여부 : 가능
	-  1회 급여량 : 1g단위로 999g까지 설정 가능.
	- 소비 전력 : 월 평균 3.6kWh
	- 사용 센서 : 초음파, 압력센서 활용
	- 소재 : 우드락/PET 활용


- version : proto
- 문의 : github.com/lagoon9024



# Rpi HW와 nodejs서버를 활용한 서비스구현
## HW 작동부 (C, MYSQL)
## nodejs (HW 내부 서버)



- 0207 :: C로 코드를 만들땐 주의하자(.o -> 라이브러리 만들 때 .a 확장자주의!! (GCC사용할때)
- 0214 :: HW Change (IR sensor -> Ultrasonic sensor)
- 0219 :: express autonomical service >> pm2로 변경
- 0314 :: 기능 명세 작성
